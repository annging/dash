(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-76812be2"],{"219c":function(e,t,l){},"456d":function(e,t,l){var a=l("4bf8"),r=l("0d58");l("5eda")("keys",(function(){return function(e){return r(a(e))}}))},"4da7":function(e,t,l){"use strict";var a=l("219c"),r=l.n(a);r.a},"5eda":function(e,t,l){var a=l("5ca1"),r=l("8378"),o=l("79e5");e.exports=function(e,t){var l=(r.Object||{})[e]||Object[e],s={};s[e]=t(l),a(a.S+a.F*o((function(){l(1)})),"Object",s)}},"627e":function(e,t,l){"use strict";l.r(t);var a=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"main-content"},[l("div",{staticClass:"left-container"},[l("el-menu",{staticStyle:{"margin-bottom":"20px"},attrs:{"default-active":"1",mode:"horizontal",router:""}},[l("el-menu-item",{attrs:{index:"1",route:{path:"/activity/fangan/create/"}}},[e._v("添加方案")])],1),e._v(" "),l("el-row",[l("el-form",{ref:"form",attrs:{rules:e.rules,model:e.schemeForm,"label-width":"100px",size:"small"}},[l("el-form-item",{attrs:{label:"方案标题"}},[l("el-input",{model:{value:e.schemeForm.title,callback:function(t){e.$set(e.schemeForm,"title",t)},expression:"schemeForm.title"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"封面图"}},[l("el-upload",{staticClass:"avatar-uploader",attrs:{multiple:!1,action:"https://jsonplaceholder.typicode.com/posts/","show-file-list":!1,"on-success":e.handleSuccess,"on-preview":e.handlePicturePreview,"on-remove":e.handleRemove}},[e.schemeForm.imgUrl?l("img",{staticClass:"avatar",attrs:{src:e.schemeForm.imgUrl}}):l("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),e._v(" "),l("el-dialog",{attrs:{visible:e.dialogVisible,"modal-append-to-body":!1,"append-to-body":!0},on:{"update:visible":function(t){e.dialogVisible=t}}},[l("img",{attrs:{width:"100%",src:e.schemeForm.imgUrl,alt:""}})])],1),e._v(" "),l("el-form-item",{attrs:{label:"标签"}},[l("el-select",{attrs:{multiple:"",filterable:"","allow-create":"","default-first-option":"",placeholder:"请选择方案标签"},model:{value:e.schemeForm.label,callback:function(t){e.$set(e.schemeForm,"label",t)},expression:"schemeForm.label"}},e._l(e.labelOptions,(function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),l("el-form-item",{attrs:{label:"方案介绍"}},[l("el-input",{attrs:{type:"textarea",autosize:""},model:{value:e.schemeForm.explain,callback:function(t){e.$set(e.schemeForm,"explain",t)},expression:"schemeForm.explain"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"功能亮点"}},[l("el-input",{attrs:{type:"textarea",autosize:""},model:{value:e.schemeForm.lightSpot,callback:function(t){e.$set(e.schemeForm,"lightSpot",t)},expression:"schemeForm.lightSpot"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"营销玩法"}},[l("el-input",{attrs:{type:"textarea",autosize:""},model:{value:e.schemeForm.gameplay,callback:function(t){e.$set(e.schemeForm,"gameplay",t)},expression:"schemeForm.gameplay"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"活动类型"}},[l("el-select",{attrs:{placeholder:"请选择活动类型"},model:{value:e.schemeForm.type,callback:function(t){e.$set(e.schemeForm,"type",t)},expression:"schemeForm.type"}},e._l(e.activityTypes,(function(e){return l("el-option",{key:e.key,attrs:{label:e.label,value:e.key}})})),1)],1),e._v(" "),l("el-form-item",{attrs:{label:"活动行业"}},[l("el-select",{attrs:{placeholder:"请选择行业"},model:{value:e.schemeForm.industry,callback:function(t){e.$set(e.schemeForm,"industry",t)},expression:"schemeForm.industry"}},e._l(e.industrys,(function(e){return l("el-option",{key:e.key,attrs:{label:e.label,value:e.key}})})),1)],1),e._v(" "),l("el-form-item",{attrs:{label:"会员门槛"}},[l("el-select",{attrs:{placeholder:"请选择会员等级"},model:{value:e.schemeForm.vipLevel,callback:function(t){e.$set(e.schemeForm,"vipLevel",t)},expression:"schemeForm.vipLevel"}},e._l(e.vipLevels,(function(e){return l("el-option",{key:e.key,attrs:{label:e.label,value:e.key}})})),1)],1),e._v(" "),l("el-form-item",{attrs:{label:"虚拟浏览量"}},[l("el-input",{model:{value:e.schemeForm.browse,callback:function(t){e.$set(e.schemeForm,"browse",t)},expression:"schemeForm.browse"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"虚拟参与量"}},[l("el-input",{model:{value:e.schemeForm.receive,callback:function(t){e.$set(e.schemeForm,"receive",t)},expression:"schemeForm.receive"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"权重"}},[l("el-input",{attrs:{placeholder:"值越大，越靠前"},model:{value:e.schemeForm.power,callback:function(t){e.$set(e.schemeForm,"power",t)},expression:"schemeForm.power"}})],1),e._v(" "),l("el-form-item",[l("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("立即添加")]),e._v(" "),l("el-button",[e._v("取消")])],1)],1)],1)],1)])},r=[],o=l("ca41"),s={title:"",imgUrl:"",type:"",industry:"",explain:"",lightSpot:"",gameplay:"",browse:0,receive:0,vipLevel:"",power:"",label:"",id:""},i={name:"CreateScheme",data:function(){return{schemeForm:Object.assign({},s),activityTypes:[{key:1,label:"报名"},{key:2,label:"抽奖"},{key:3,label:"海报"},{key:4,label:"砍价"},{key:5,label:"秒杀"},{key:6,label:"拼团"},{key:7,label:"投票"},{key:8,label:"预约"},{key:9,label:"助力"},{key:10,label:"代金券"},{key:11,label:"折扣券"},{key:12,label:"兑换券"},{key:13,label:"体验券"}],industrys:[{key:1,label:"教育"},{key:2,label:"体育"},{key:3,label:"珠宝"}],vipLevels:[{key:1,label:"普通会员"}],rules:{title:[{required:!0,message:"请输入方案标题",trigger:"blur"},{min:3,max:50,message:"长度在 3 到 50 个字符",trigger:"blur"}],region:[{required:!0,message:"请选择活动区域",trigger:"change"}],type:[{required:!0,message:"请选择一个活动类型",trigger:"change"}],industry:[{required:!0,message:"请选择一个行业",trigger:"change"}],desc:[{required:!0,message:"请填写方案介绍",trigger:"blur"}],cover:[{required:!0,message:"请上传封面图",trigger:"change"}]},dialogImageUrl:"",dialogVisible:!1,labelOptions:[{value:"老带新",label:"老带新"},{value:"裂变",label:"裂变"}]}},methods:{onSubmit:function(){console.log("submit!"),Object(o["a"])(this.schemeForm).then((function(e){console.log(e)}))},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type,l=e.size/1024/1024<2;return t||this.$message.error("上传头像图片只能是 JPG 格式!"),l||this.$message.error("上传头像图片大小不能超过 2MB!"),t&&l},handleRemove:function(e,t){console.log(e,t)},handleSuccess:function(e,t){this.schemeForm.imgUrl=URL.createObjectURL(t.raw)},handlePicturePreview:function(){this.dialogVisible=!0}}},n=i,c=(l("ae81"),l("4da7"),l("2877")),m=Object(c["a"])(n,a,r,!1,null,"e9dff9f2",null);t["default"]=m.exports},ae81:function(e,t,l){"use strict";var a=l("d0d9"),r=l.n(a);r.a},ca41:function(e,t,l){"use strict";l.d(t,"b",(function(){return r})),l.d(t,"c",(function(){return o})),l.d(t,"a",(function(){return s}));l("ac6a"),l("456d");var a=l("b775");function r(e){return Object(a["a"])({url:"/api/activity/list",method:"get",params:e})}function o(e,t){return Object(a["a"])({url:"http://47.107.137.16:8090/system/activity/getActivityScheme?size="+e.size+"&current="+e.current,method:"post",data:t})}function s(e){return Object(a["a"])({url:"http://47.107.137.16:8090/system/activity/addActivityScheme",method:"post",data:e,transformRequest:[function(e){console.log(e);var t=Object.keys(e).length,l=0,a="";for(var r in e)a+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]),l<t-1&&(a+="&",l++);return a}],headers:{"Content-Type":"application/x-www-form-urlencoded"}})}},d0d9:function(e,t,l){}}]);